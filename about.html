<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Te Amo!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Pacifico&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./style/about.css">
</head>

<body>
    <div class="container">
        <div class="spotify-player">
            <iframe src="https://open.spotify.com/embed/track/3mzbab4H0iZYkHggSEj0UX?si=a7cac21c23e14455" width="100%"
                height="80" frameborder="0" allowtransparency="true" allow="encrypted-media">
            </iframe>
            <div id="overlay">
                <button id="playBtn">Ativar M√∫sica</button>
            </div>
        </div>

        <div class="carrossel-container">
            <div class="carrossel">
                <div class="slide">
                    <img src="./img/1.jpg" alt="Foto do casal">
                </div>
                <div class="slide">
                    <img src="./img/2.jpg" alt="Foto do casal">
                </div>
                <div class="slide">
                    <img src="./img/3.jpg" alt="Foto do casal">
                </div>
                <div class="slide">
                    <img src="./img/4.jpg" alt="Foto do casal">
                </div>
                <div class="slide">
                    <img src="./img/5.jpg" alt="Foto do casal">
                </div>
            </div>
        </div>

        <div class="message-box">
            <div class="message-title">‚ù§Ô∏è</div>
            <p class="message-text">
                Oii eu queria fazer um textinho fofo mas voc√™ √© do tipo que acha defeito em elogio neh apesar de voc√™ pesar o clima a cada 5 palavras e das piadas ruim (j√° falei que vou no seu show de stand-up) e estar parecendo um carro a alc√≥l ta fazendo 1km por litro (qualquer dia vao te colocar l√° nos alcolatras anonimos) mas enfim eu te gosto muito ü´∂üèª
            </p>
        </div>
        <audio id="bgMusic" loop playsinline>
            <source src="./img/02 - Oi Balde (Ao Vivo).mp3" type="audio/mpeg">
        </audio>  
    </div>

    <script>
        const hearts = ['‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú', 'üñ§', 'ü§ç', 'ü§é'];

        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];

            // Tamanho aleat√≥rio
            const size = Math.random() * 20 + 10;
            heart.style.fontSize = `${size}px`;

            // Posi√ß√£o inicial
            heart.style.left = `${Math.random() * 100}vw`;
            heart.style.top = `-50px`;

            // Dura√ß√£o da anima√ß√£o
            const duration = Math.random() * 3 + 2;
            heart.style.animationDuration = `${duration}s`;

            document.body.appendChild(heart);

            setTimeout(() => {
                heart.remove();
                createHeart();
            }, duration * 1000);
        }

        // Criar v√°rios cora√ß√µes
        for (let i = 0; i < 50; i++) {
            setTimeout(createHeart, i * 300);
        }

        document.addEventListener('DOMContentLoaded', function () {
            const carrossel = document.querySelector('.carrossel');
            const slides = document.querySelectorAll('.slide');
            let currentIndex = 0;
            const totalSlides = slides.length;

            // Fun√ß√£o para mudar de slide
            function nextSlide() {
                currentIndex = (currentIndex + 1) % totalSlides;
                carrossel.style.transform = `translateX(-${currentIndex * 100}%)`;
            }

            // Inicia o autoplay (muda a cada 4 segundos)
            let autoplay = setInterval(nextSlide, 4000);

            // Pausa quando o mouse est√° em cima
            const container = document.querySelector('.carrossel-container');
            container.addEventListener('mouseenter', () => clearInterval(autoplay));
            container.addEventListener('mouseleave', () => {
                autoplay = setInterval(nextSlide, 4000);
            });
        });

        const overlay = document.getElementById('overlay');
        const playBtn = document.getElementById('playBtn');
        const bgMusic = document.getElementById('bgMusic');
        
        // Tenta autoplay (funciona em alguns navegadores)
        bgMusic.play().catch(e => {
            console.log('Aguardando intera√ß√£o do usu√°rio...');
        });
        
        // Quando o usu√°rio clica no bot√£o
        playBtn.addEventListener('click', () => {
            bgMusic.play()
                .then(() => {
                    overlay.style.display = 'none';
                })
                .catch(e => {
                    alert('N√£o foi poss√≠vel iniciar a m√∫sica. Tente novamente.');
                });
        });
        
        // Se ap√≥s 5 segundos o usu√°rio n√£o clicou, esconde o overlay
        setTimeout(() => {
            if (!bgMusic.paused) return;
            overlay.innerHTML = '<p>Toque em qualquer lugar para ativar a m√∫sica</p>';
            document.body.addEventListener('click', () => {
                bgMusic.play();
                overlay.style.display = 'none';
            }, { once: true });
        }, 5000);
        
        // Inicializa tudo quando a p√°gina carrega
        document.addEventListener('DOMContentLoaded', function () {
            updateTime();
            setInterval(updateTime, 60000); // Atualiza o hor√°rio a cada minuto
            setupCarousel();
        });

    </script>

    </header>
</body>

</html>